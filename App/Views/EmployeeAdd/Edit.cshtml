@model Langben.DAL.EmployeeAdd

@{
    Layout = "~/Views/Shared/Edit.cshtml";
}
@using Common
@using Models
 @section CurentPlace {
    修改  
}

@using (Html.BeginForm("", "api/EmployeeAddApi/Put"))
{
    <fieldset>
        <legend>
            <input class="a2 f2" type="submit" value="修改" />
            <input class="a2 f2" type="button" onclick="BackList('EmployeeAdd')" value="返回列表" />
        </legend>
        <div class="bigdiv">
            @Html.HiddenFor(model => model.Id )      
            <div class="editor-label">
                @Html.LabelFor(model => model.Wage)：
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.Wage)
                @Html.ValidationMessageFor(model => model.Wage)
            </div>     
            <div class="editor-label">
                @Html.LabelFor(model => model.InsuranceKindId) ：
            </div>
            <div class="editor-field">
                @Html.TextBoxFor(model => model.InsuranceKindId, new {  onkeyup = "isInt(this)", @class="text-box single-line" })
                @Html.ValidationMessageFor(model => model.InsuranceKindId) 
            </div>      
            <div class="editor-label">
                <a class="anUnderLine" onclick="showModalOnly('CompanyEmployeeRelationId','../../CompanyEmployeeRelation');">
                    @Html.LabelFor(model => model.CompanyEmployeeRelationId) 
                </a>：
            </div>
            <div class="editor-field">
                <div id="checkCompanyEmployeeRelationId">
                        @if(Model!=null)
                        {
                        if (null != Model.CompanyEmployeeRelationId)                      
                        { 
                    <table id="@Model.CompanyEmployeeRelationId"
                        class="deleteStyle">
                        <tr>
                            <td>
                                <img alt="删除"  title="点击删除" onclick="deleteTable('@Model.CompanyEmployeeRelationId ','CompanyEmployeeRelationId');" src="../../../Images/deleteimge.png" />
                            </td>
                            <td>
                                @Model.CompanyEmployeeRelation.EmployeeId
                            </td>
                        </tr>
                    </table>
                    }} 
                </div>
                @Html.HiddenFor(model => model.CompanyEmployeeRelationId)
            </div>      
            <div class="editor-label">
                <a class="anUnderLine" onclick="showModalOnly('PoliceInsuranceId','../../PoliceInsurance');">
                    @Html.LabelFor(model => model.PoliceInsuranceId) 
                </a>：
            </div>
            <div class="editor-field">
                <div id="checkPoliceInsuranceId">
                        @if(Model!=null)
                        {
                        if (null != Model.PoliceInsuranceId)                      
                        { 
                    <table id="@Model.PoliceInsuranceId"
                        class="deleteStyle">
                        <tr>
                            <td>
                                <img alt="删除"  title="点击删除" onclick="deleteTable('@Model.PoliceInsuranceId ','PoliceInsuranceId');" src="../../../Images/deleteimge.png" />
                            </td>
                            <td>
                                @Model.PoliceInsurance.Name
                            </td>
                        </tr>
                    </table>
                    }} 
                </div>
                @Html.HiddenFor(model => model.PoliceInsuranceId)
            </div>     
            <div class="editor-label">
                @Html.LabelFor(model => model.InsuranceCode)：
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.InsuranceCode)
                @Html.ValidationMessageFor(model => model.InsuranceCode)
            </div>      
            <div class="editor-label">
                <a class="anUnderLine" onclick="showModalOnly('PoliceOperationId','../../PoliceOperation');">
                    @Html.LabelFor(model => model.PoliceOperationId) 
                </a>：
            </div>
            <div class="editor-field">
                <div id="checkPoliceOperationId">
                        @if(Model!=null)
                        {
                        if (null != Model.PoliceOperationId)                      
                        { 
                    <table id="@Model.PoliceOperationId"
                        class="deleteStyle">
                        <tr>
                            <td>
                                <img alt="删除"  title="点击删除" onclick="deleteTable('@Model.PoliceOperationId ','PoliceOperationId');" src="../../../Images/deleteimge.png" />
                            </td>
                            <td>
                                @Model.PoliceOperation.Name
                            </td>
                        </tr>
                    </table>
                    }} 
                </div>
                @Html.HiddenFor(model => model.PoliceOperationId)
            </div>     
            <div class="editor-label">
                @Html.LabelFor(model => model.InsuranceMonth)：
            </div>
            <div class="editor-field">
                @Html.TextBox("InsuranceMonth", ((Model != null && Model.InsuranceMonth != null) ? Model.InsuranceMonth.ToString().AsDateTime().ToString("yyyy-MM-dd") : ""), new { style = "width: 244px;", @class="easyui-datebox" })
                @Html.ValidationMessageFor(model => model.InsuranceMonth)
            </div>     
            <div class="editor-label">
                @Html.LabelFor(model => model.StartTime)：
            </div>
            <div class="editor-field">
                @Html.TextBox("StartTime", ((Model != null && Model.StartTime != null) ? Model.StartTime.ToString().AsDateTime().ToString("yyyy-MM-dd") : ""), new { style = "width: 244px;", @class="easyui-datebox" })
                @Html.ValidationMessageFor(model => model.StartTime)
            </div>      
            <div class="editor-label">
                <a class="anUnderLine" onclick="showModalOnly('PoliceAccountNatureId','../../PoliceAccountNature');">
                    @Html.LabelFor(model => model.PoliceAccountNatureId) 
                </a>：
            </div>
            <div class="editor-field">
                <div id="checkPoliceAccountNatureId">
                        @if(Model!=null)
                        {
                        if (null != Model.PoliceAccountNatureId)                      
                        { 
                    <table id="@Model.PoliceAccountNatureId"
                        class="deleteStyle">
                        <tr>
                            <td>
                                <img alt="删除"  title="点击删除" onclick="deleteTable('@Model.PoliceAccountNatureId ','PoliceAccountNatureId');" src="../../../Images/deleteimge.png" />
                            </td>
                            <td>
                                @Model.PoliceAccountNature.Name
                            </td>
                        </tr>
                    </table>
                    }} 
                </div>
                @Html.HiddenFor(model => model.PoliceAccountNatureId)
            </div>      
            <div class="editor-label">
                <a class="anUnderLine" onclick="showModalOnly('SuppliersId','../../Suppliers');">
                    @Html.LabelFor(model => model.SuppliersId) 
                </a>：
            </div>
            <div class="editor-field">
                <div id="checkSuppliersId">
                        @if(Model!=null)
                        {
                        if (null != Model.SuppliersId)                      
                        { 
                    <table id="@Model.SuppliersId"
                        class="deleteStyle">
                        <tr>
                            <td>
                                <img alt="删除"  title="点击删除" onclick="deleteTable('@Model.SuppliersId ','SuppliersId');" src="../../../Images/deleteimge.png" />
                            </td>
                            <td>
                                @Model.Suppliers.Name
                            </td>
                        </tr>
                    </table>
                    }} 
                </div>
                @Html.HiddenFor(model => model.SuppliersId)
            </div>     
            <div class="editor-label">
                @Html.LabelFor(model => model.IsIndependentAccount)：
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.IsIndependentAccount)
                @Html.ValidationMessageFor(model => model.IsIndependentAccount)
            </div>
            <br style="clear: both;" />
            <div class="editor-label">
                @Html.LabelFor(model => model.Remark)：
            </div>
            <div class="textarea-box">
                @Html.TextAreaFor(model => model.Remark) 
                @Html.ValidationMessageFor(model => model.Remark) 
            </div>        
            <div class="editor-label">
                @Html.LabelFor(model => model.State)：
            </div>
            <div class="editor-field">
                @Html.DropDownListFor(model => model.State,Models.SysFieldModels.GetSysField("EmployeeAdd","State"),"请选择")
            </div>@Html.HiddenFor(model => model.CreateTime ) @Html.HiddenFor(model => model.CreatePerson ) 
        </div>
    </fieldset>
}



    <script type="text/javascript">

        $(function () {
            

            // 获取待编辑内容并显示
            var id = '@ViewBag.Id';
            $.ajax({
                url: "/api/EmployeeAddApi/" + id,
                type: "POST",
                // async: false,
                success: function (res) {
                    $("#Id").val(res.Id);$("#Wage").val(res.Wage);$("#InsuranceKindId").val(res.InsuranceKindId);$("#InsuranceCode").val(res.InsuranceCode);$("#InsuranceMonth").val(res.InsuranceMonth);$("#StartTime").val(res.StartTime);$("#IsIndependentAccount").val(res.IsIndependentAccount);$("#Remark").val(res.Remark);$("#State").val(res.State);$("#CreateTime").val(res.CreateTime);$("#CreatePerson").val(res.CreatePerson);
                }
            })
        });
        

    </script>



